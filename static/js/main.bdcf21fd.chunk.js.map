{"version":3,"sources":["componets/css/Header.module.css","componets/css/Loading.module.css","App.module.css","sections/css/Home.module.css","assets/svg/site-logo.svg","componets/Header.js","componets/Loading.js","assets/svg/site-about.svg","sections/Home.js","assets/png/personA.png","assets/png/personB.png","assets/png/midpoint.png","sections/Results.js","App.js","reportWebVitals.js","index.js","sections/css/Results.module.css"],"names":["module","exports","Header","className","styles","siteHeader","siteHeaderWrapper","src","Logo","siteLogo","Loading","Home","isLoaded","setLocations","HomeWrapper","siteAbout","AboutImg","aboutText","Menu","locationA","useRef","locationB","google","window","history","useHistory","initAutocomplete","location","autocomplete","maps","places","Autocomplete","ComponentRestrictions","country","fields","addListener","prevLocations","id","getPlace","useEffect","current","siteMenu","onSubmit","event","preventDefault","push","menuItem","personIcon","type","ref","midpointIcon","onChange","keyword","target","value","submitButton","createMarker","map","pos","label","Marker","position","Results","locations","useState","resultsList","setResultsList","mapRef","a","CreateMap","CreateRoute","route","midpoint","CreateMidpoint","getNearbyPlaces","InitMaps","Map","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","setMap","origin","placeId","place_id","destination","travelMode","TravelMode","DRIVING","response","setDirections","routes","steps","legs","halfwayDistance","distance","distancePath","distanceStart","beginDistance","subStep","distanceEnd","start","lat","lng","mid","end","getMidPoint","path","newPath","i","length","geometry","spherical","computeDistanceBetween","createDistancePath","step","getMidPath","request","rankBy","RankBy","DISTANCE","PlacesService","nearbySearch","results","status","mapWrapper","PlaceList","placeList","result","index","Place","name","vicinity","photos","rating","imgUrl","getUrl","toString","placeRow","placeIndex","placePhoto","placeText","placeButton","onClick","setZoom","panTo","App","setIsLoaded","key","defaultValue","JSON","parse","localStorage","getItem","state","setState","setItem","stringify","usePersistedState","loader","Loader","apiKey","version","libraries","load","then","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bdcf21fd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"siteLogo\":\"Header_siteLogo__1LbKg\",\"siteHeader\":\"Header_siteHeader__2d4LK\",\"siteHeaderWrapper\":\"Header_siteHeaderWrapper__2-WDO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loading\":\"Loading_Loading__3hzUr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1S0HA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Home\":\"Home_Home__2ssMy\",\"HomeWrapper\":\"Home_HomeWrapper__1FNT-\",\"siteAbout\":\"Home_siteAbout__3eWIm\",\"siteMenu\":\"Home_siteMenu__PvPoB\",\"menuItem\":\"Home_menuItem__77kfM\",\"submitButton\":\"Home_submitButton__x1LZ3\",\"personIcon\":\"Home_personIcon__3Q2YZ\",\"midpointIcon\":\"Home_midpointIcon__2GfFD\",\"aboutText\":\"Home_aboutText__182AD\"};","export default __webpack_public_path__ + \"static/media/site-logo.b5358572.svg\";","import Logo from '../assets/svg/site-logo.svg'\r\nimport styles from './css/Header.module.css'\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <div className={styles.siteHeader}>\r\n            <div className={styles.siteHeaderWrapper}>\r\n                <img src={Logo} className={styles.siteLogo} />\r\n                <div>BY RICK VARELA</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import styles from './css/Loading.module.css'\r\n\r\nexport const Loading = () => {\r\n    return (\r\n        <div className={styles.Loading}>\r\n            <div>Loading...</div>\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/site-about.d1702178.svg\";","import { Header } from '../componets/Header'\r\nimport { Loading } from '../componets/Loading'\r\nimport AboutImg from '../assets/svg/site-about.svg'\r\nimport midpoint from '../assets/png/midpoint.png'\r\nimport personA from '../assets/png/personA.png'\r\nimport personB from '../assets/png/personB.png'\r\n\r\nimport styles from './css/Home.module.css'\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport const Home = ({ isLoaded, setLocations }) => {\r\n    return (\r\n        <div className={styles.Home}>\r\n            <Header />\r\n            <div className={styles.HomeWrapper}>\r\n                {isLoaded ? (\r\n                    <>\r\n                        <div className={styles.siteAbout}>\r\n                            <img src={AboutImg} />\r\n                            <p className={styles.aboutText}>MeetHalfway helps you find an equal distant location where you can meet. Enter two locations and a point of interest and find your perfect meeting location. </p>\r\n                        </div>\r\n                        <Menu setLocations={setLocations} />\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <Loading />\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Menu = ({setLocations}) => {\r\n    const locationA = useRef()\r\n    const locationB = useRef()\r\n\r\n    const google = window.google\r\n    const history = useHistory()\r\n\r\n    const initAutocomplete = (location, setLocations)=> {\r\n        let autocomplete = new google.maps.places.Autocomplete(location, {\r\n            ComponentRestrictions: {country: ['us', 'ca']},\r\n            fields: [\"place_id\"],\r\n        })\r\n        autocomplete.addListener('place_changed', () => {\r\n            setLocations(prevLocations => ({\r\n                ...prevLocations,\r\n                [location.id]: autocomplete.getPlace()\r\n            }))\r\n        })\r\n    }\r\n\r\n    const handelSubmit = event => {\r\n        event.preventDefault()\r\n        history.push('/Results')\r\n    }\r\n\r\n    const handelKeywordChange = event => {\r\n        setLocations(prevLocations => ({\r\n            ...prevLocations,\r\n            keyword: event.target.value\r\n        }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        initAutocomplete(locationA.current, setLocations)\r\n        initAutocomplete(locationB.current, setLocations)\r\n    })\r\n\r\n    return (\r\n        <form className={styles.siteMenu} onSubmit={handelSubmit} >\r\n            <h2>Find the Halfway Point</h2>\r\n            <label className={styles.menuItem} >Person <img src={personA} className={styles.personIcon} /></label>\r\n            <input className={styles.menuItem} type='text' id='locationA' ref={locationA} />\r\n            <label className={styles.menuItem} >Person <img src={personB} className={styles.personIcon} /></label>\r\n            <input className={styles.menuItem} type='text' id='locationB' ref={locationB} />\r\n            <label className={styles.menuItem} >Point of Interest <img src={midpoint} className={styles.midpointIcon} /></label>\r\n            <input className={styles.menuItem} type='text' onChange={handelKeywordChange} />\r\n            <input className={styles.submitButton} type='submit' value=\"Meet Halfway!\"/>\r\n        </form>\r\n    )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsSAAALEgHS3X78AAAC2ElEQVRogd1a7ZGjMAzVMfs/dHB0EDo4rgM6OEq4ErYE0kFKoIMlHZAOnA6gAu+QlW+8WmPAfmTJvRlPPsCynyXLku0fWmsCICWigkvO5TAhdiCijoha67OP7sJIJKKUWutGx6NhWcF9Ca1Yaa0VgICEYtmbEyk2IuAiVGxBJNVa1w8gIFFz27N9XDLZMyJqiOiI8AoBuLIT8TqEOSI5e5UpD/QoDEymm2oveQISxH1ouU9OTGlkXBfUTkjYGNjUv5iZSyPpjjQhYTSTygcuIq/AiX0joguXG0jmkfv4GY51AonMkp2BZRe+dQS52J0d/v4MlK+miFTARrTQxlZaqVxEkNpoPatwC2xHSSIlULgW9vsqIlv0PCxtIohQ3EAJDfQODSG13xgiKVCoFmG4Pe+yif8RSNFm1YtotbOe2V4s5XdRKBNf/BKAsxU+FGJhLa0Vued3UcgTbhCF2pJTCZkHJmNQA9stCKjidoHpdBu54j4BBoe2qZQTco8cvbrqxOBAqBERI9153q0d7jkavsRqDeyRzWai51L8hmgFRcQ3ySV+bjHpEUQunE0azBEhQUSxjCi8xApwmJUSxFzIxH+jjF8xnRhz9j7Cc03m0CsRu0cwJL4tlgVoIBvQHzJGWaHoXphIqFpts8odHmlJfWV9/xPYjzYmaJThekga+xcU3t+DxjZwFKT/X6sNcni40DWljUmsUPlF7E7LPbEy68jakbgKFxuiDVddxbLX4KPvgfZZiUg3BnKurdHul82HtQJSkFkZ5IED829A5Sa24ljIh5swxWpBnTlchNNZIvNmRwiSyJgtvkV26lH4bZOXQeP44PQEJE5y2XCdj5hjhe86apuD8yjuvz7oIX6x4Ip7weA7FPUlVt2OyEQdhhJXzAJWWySu3AdvurEk1TVm9h3e7LTkjP2OhTcf7COBp77CIcvTX6qRZTfXnNAXz8Z013w+7uIZEb0D2SueCrvzF1kAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsSAAALEgHS3X78AAAC1ElEQVRogeVa0XGjMBDdMPkPHYQOwlVwpIJzB3EJV0I6OKeC83VAKgjXAe4AdwAVKCPnkSgbCcNKIHz3ZjQebJD2eVerJy1XSikKgJSICrQc7cbRbUdENRFVxmfrbYIm4tE2SqlS+aNEX2JbpA9ulVJNAAIcDfqenUgxEwEboWIOIqlSarcAAY4dxj5r45jJnhFRSUR3IbKCAAckkcGEcI5IjqziykBLoQOZ2jVecgEkCDZUsMkKl0f0utCshISJDqH+JcxsHklX5AmO3jMp/8FG5DHixB6DO9j4CTy09IR6mdjxkYj2CMUG37VsYmZoKeJcj/Pdk9A9vPMGlo8li92jUB1keFaKxuzPDK0tEd16/ktT0CBEvmEST8UtbD7BJPIl7oTQ7lasVWg7SwqtEWoSfNisPlSsFDy0xmBvkR76Owk2ZmhtnZznwQMShAl+PRYn2xNkkh8LEyHLmE75MaKfNPGIzxAwx/bZJRbJkH5ZAJUxhI8deUyPPLNrHzuieeTAEoyepz89+suvFxKH/clJg01aafyWImP5LMY31yGsZLiacG+BRdJbpA5trJaAdW8hwRwecU1aUx332KNt8CkO8zmInNsGHBFOpUGsxB8g3tDFCC09qX9h8psZU1+LhWsilNAhYNu2SvVWl3honFBkuEz5K+injk2EAi3IVcL0zqWiXgMRHhGZoI+TR1qLgFsKz0yuZAKpovto+/QrzRY++IOF0IQk/b7Z7nkUZDsOqhz31fhN3587ai9T8X4kxKtQIYhIK2CtYOz36lbCXHRcOLx6WfJbIE2O5pTgWmsrODLtN0hDR6apsV7kxrGpzx7k88mPxc0xSmxTsRtTeuvLCms9kbeW4v7pQg/hxiKiMrahGyqKDu1H6hWR8SqGEh7MEJexcIANgyp9zA6xD7OnCESextTYT/jfXuGwSYqLfqmGt9W85hT6xbNeeiz74hkRvQIFXuh+llovXwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAABSCAYAAADuK3wcAAAACXBIWXMAAAsSAAALEgHS3X78AAADiklEQVR4nO2b/W3bMBDFX4T+b3WCeoN4g6gTOCNoBHeCeoN4gyoT1J2gygbuBFU3kCdgweKECOxRpmTe6QN6ABFHcUj+9EiKPFIPxhhE0AFAAaCOkVlsJRHyOwF4AVBOC+1dMSB39PMxRoUkFANy8lohlyJpyIzSqJKEzAH8pFQBOALYjgErCdkG+gTgK4DfAM4AngXL/U9j9Mk9gO+a7mpBvgL441xTc1cLsiDHPhOwK1F3tZtrSQPSRwBftNwd6zlZ05xXxd0pTAbE3Z3SjEfM3alO66K6O/W5axR35zRBH+zuHFchfdy9AEjnvtRqu8vB2mhF/mGEisVUSs3y4Am/XG3TnSvkjsAs4Ib5+5WmkrZZV3OCvOWa1RvBFe2Lc4Ds5RqXwVQhB7vGaWqQd7vGaQqQUV3jNCakiGuctCHFXeOkBbmjmYm4a5y0IF8816O7xmmMPinqGidJSHdDVsU1TpKQBQ00zWcV1zjF2E63y50n+vwQvYYRtG7dLUUr5FK0Qi5FK+RStEIuRSsko+ceq4gjLZTTgO/Kyk7QA1JujKnMu9r/U964XhtjjsaYNLCs6OmWkxktkb7R1tgQbWhLraLYjrq6II90ZGwonKsNhUHO2k3YB1nQ3ed0Dczbd1R7T2tQPVCm/ReGV0190/2+r0/alBljLp78Llr91L1w8FTo3FGhLsgmHTvyVYXceSpS3MgkBLIZoTkdNCHLAYB9IH2gtXSz7Sq8DMykD6Sv6YbczLshXRft3d0KQYIZjETdTOioyJMz6EpHt91JwUb6vCuXuXSUu2QOG6lC/lCKdp+c3/dSBSWt15AaXaQKCyjHrUsUJcx+odaLZVw5IlO9ddEcqGYiHjpxV1cMyJwGq9FfV/KJ25/s2y/qgcO/2lIrYZ5XIiMcI64ckUdXwgzlWu9RueVcJSHPzrVHJTdz53e3HtHEQUIh4JQzz2cxyGamzoU8MqFVQUqrjrYqyaVW8wjhJuSF0AhYMC7KLghaxJyboQvn0HRiyhB10TjhD64ZNaAxFrQcoGS3YCFBBXKq7qjM1hM/MhQKEQXkINERVTPUpEPDIluC4FqHkY7rtJPvRFZO+x8+/aIh/8JEyjN6znYtgl+Z56ScOu5A1uHCPRKPs4Y013ZKO7YN+qqkALYqYAhk29WhsKVnD0Ut9T0l2Zwht8n2O25bz060bV+1fdam0Y6A/hOAv/8/efDO7OflAAAAAElFTkSuQmCC\"","\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport { Header } from '../componets/Header'\r\nimport { Loading } from '../componets/Loading'\r\n\r\nimport styles from './css/Results.module.css'\r\n\r\nconst createMarker = (map, pos, label = '') => {\r\n    const google = window.google\r\n    new google.maps.Marker({\r\n      position: pos,\r\n      label: label,\r\n      map: map\r\n    })\r\n}\r\n\r\nexport const Results = ({isLoaded, locations}) => {\r\n    const [resultsList, setResultsList] = useState([])\r\n    const google = window.google\r\n    const mapRef = useRef()\r\n    \r\n    useEffect( () => {\r\n        if (google)\r\n            InitMaps()\r\n    }, [google])\r\n\r\n    async function InitMaps() {\r\n        let map = CreateMap()\r\n        mapRef.current = map\r\n        let route = await CreateRoute(map)\r\n        let midpoint = CreateMidpoint(route, map)\r\n        createMarker(map, midpoint)\r\n        getNearbyPlaces(map, midpoint, locations.keyword)\r\n\r\n    }\r\n\r\n    const CreateMap = () =>\r\n        new google.maps.Map(mapRef.current)\r\n\r\n    const CreateRoute = async map => {\r\n        const directionsService = new google.maps.DirectionsService()\r\n        const directionsRenderer = new google.maps.DirectionsRenderer()\r\n\r\n        directionsRenderer.setMap(map)\r\n        let response = await directionsService.route({\r\n            origin: {placeId: locations.locationA.place_id},\r\n            destination: {placeId: locations.locationB.place_id},\r\n            travelMode: google.maps.TravelMode.DRIVING\r\n        });\r\n        directionsRenderer.setDirections(response)\r\n        return response.routes[0]\r\n    }\r\n\r\n    const CreateMidpoint = (route, map) => {\r\n        let steps = route.legs[0].steps\r\n        let halfwayDistance = route.legs[0].distance.value / 2\r\n\r\n        let path = getMidPath(steps)\r\n        let distancePath = createDistancePath(path)\r\n        let midPoint = getMidPoint(distancePath)\r\n        //createMarker(map, midPoint.start)\r\n        //createMarker(map, midPoint.mid)\r\n        return midPoint.mid\r\n\r\n        function getMidPath(steps) {\r\n            let distanceStart = 0\r\n            for (let step of steps) {\r\n                let distanceEnd = distanceStart + step.distance.value\r\n                if (halfwayDistance > distanceStart && halfwayDistance < distanceEnd) {\r\n                    return {\r\n                        path: step.path,\r\n                        beginDistance: distanceStart\r\n                    }\r\n                }\r\n            distanceStart = distanceEnd\r\n            }\r\n        }\r\n\r\n        function createDistancePath({path, beginDistance}) {\r\n            let newPath = []\r\n            for (let i = 0; i < path.length - 1; i++) {\r\n                newPath.push({\r\n                    start: path[i],\r\n                    end: path[i + 1],\r\n                    distance: google.maps.geometry.spherical.computeDistanceBetween(path[i], path[i + 1])\r\n                })\r\n            }\r\n            return {\r\n                distancePath: newPath,\r\n                beginDistance: beginDistance\r\n            }\r\n        }\r\n\r\n        function getMidPoint({distancePath, beginDistance}) {\r\n            let distanceStart = beginDistance\r\n            for (let subStep of distancePath) {\r\n                let distanceEnd = distanceStart + subStep.distance\r\n                if (halfwayDistance > distanceStart && halfwayDistance < distanceEnd) {\r\n                    return {\r\n                        start: {\r\n                            lat: subStep.start.lat(),\r\n                            lng: subStep.start.lng()\r\n                        },\r\n                        mid: {\r\n                            lat: (subStep.start.lat() + subStep.end.lat()) / 2,\r\n                            lng: (subStep.start.lng() + subStep.end.lng()) / 2\r\n                        },\r\n                        end: {\r\n                            lat: subStep.end.lat(),\r\n                            lng: subStep.end.lng()\r\n                        }\r\n                    }\r\n                }\r\n                distanceStart = distanceEnd\r\n            }\r\n        }\r\n    }\r\n\r\n    const getNearbyPlaces = (map, location, keyword) => {\r\n        let request = {\r\n            location: location,\r\n            rankBy: google.maps.places.RankBy.DISTANCE,\r\n            keyword: keyword\r\n        }\r\n\r\n        let service = new google.maps.places.PlacesService(map)\r\n        service.nearbySearch(request, (results, status) => {\r\n            setResultsList(results)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.Results}>\r\n            <Header />\r\n            {(google )? (\r\n                <>\r\n                    <div className={styles.mapWrapper}><div ref={mapRef} className={styles.map}></div></div>\r\n                    <PlaceList resultsList={resultsList} mapRef={mapRef}/>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <Loading />\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PlaceList = ({resultsList, mapRef}) => {\r\n    return (\r\n        <div className={styles.placeList}>\r\n            {resultsList.map((result, index) =>\r\n                <Place result={result} key={index} index={index + 1} mapRef={mapRef}/>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Place = ({result, index, mapRef}) => {\r\n    const {name, vicinity, rating, photos, place_id, geometry} = result\r\n    let imgUrl = photos[0].getUrl()\r\n\r\n    useEffect(() => {\r\n        createMarker(mapRef.current, geometry.location, index.toString())\r\n    })\r\n\r\n    const handelCenterMap = () => {\r\n        mapRef.current.setZoom(15)\r\n        mapRef.current.panTo(geometry.location)\r\n        \r\n    }\r\n\r\n    return  (\r\n        <div className={styles.placeRow}>\r\n            <div className={styles.placeIndex}><div>{`#${index}`}</div></div>\r\n            <img src={imgUrl} className={styles.placePhoto}/>\r\n            <div className={styles.placeText}>\r\n                <h3>{name}</h3>\r\n                <div>{vicinity}</div>\r\n            </div>\r\n            <button className={styles.placeButton} onClick={handelCenterMap}>Center</button>\r\n        </div>\r\n    )\r\n}","import {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom'\nimport { Loader } from '@googlemaps/js-api-loader'\nimport { useEffect, useReducer, useState } from 'react'\n\nimport { Home } from './sections/Home'\nimport { Results } from './sections/Results'\n\nimport styles from './App.module.css'\n\nconst usePersistedState = (key, defaultValue) => {\n  const [state, setState] = useState(\n    () => JSON.parse(localStorage.getItem(key)) || defaultValue\n  )\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state))\n  }, [key, state])\n  return [state, setState]\n}\n\nfunction App() {\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [locations, setLocations] = usePersistedState('bob', {\n    locationA: {},\n    locationB: {},\n    keyword: null\n  })\n\n  const loader = new Loader({\n    apiKey: \"AIzaSyDdk2bR83R3rl7x8Gh13iPOiRnL-Nq6yaE\",\n    version: \"beta\",\n    libraries: [\"places\"]\n  })\n\n  useEffect(() => {\n    loader.load().then(() => {\n      setIsLoaded(true)\n    })\n    \n  }, [])\n\n  return (\n    <div className={styles.App}>\n      <Router>\n        <Switch>\n          <Route exact path='/'>\n            <Home isLoaded={isLoaded} setLocations={setLocations}/>\n          </Route>\n          <Route exact path='/results'>\n            <Results isLoaded={isLoaded} locations={locations}/>\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Results\":\"Results_Results__1WDQi\",\"map\":\"Results_map__2DQIs\",\"mapWrapper\":\"Results_mapWrapper__3VnW2\",\"placeRow\":\"Results_placeRow__17aI5\",\"placePhoto\":\"Results_placePhoto__28Uxo\",\"placeList\":\"Results_placeList__d1jCg\",\"placeText\":\"Results_placeText__3UDC3\",\"placeIndex\":\"Results_placeIndex__3e6UT\",\"placeButton\":\"Results_placeButton__3NpRJ\"};"],"sourceRoot":""}